<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>À propos · PériMap</title>
    <meta name="description" content="En savoir plus sur PériMap, application indépendante fondée sur les données ouvertes du réseau Péribus.">
    <link rel="canonical" href="https://perimap.app/about.html">
    <link rel="icon" type="image/webp" sizes="192x192" href="https://i.ibb.co/1f0pp0Tc/Peribus-Icon.webp">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="about-page">
    <header class="about-header">
        <a href="/" class="btn btn-secondary about-back-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
            <span>Retour au menu</span>
        </a>
    </header>
    <main class="about-main">
        <section class="about-card">
            <p class="legal-pill">Projet indépendant</p>
            <h1>À propos de PériMap</h1>
            <p>PériMap est une application web non-officielle conçue pour rendre le réseau Péribus plus accessible. Elle réutilise les données publiques publiées par le Grand Périgueux (format GTFS, licence ODbL) et les complète avec les services Google Maps Platform afin de proposer un planificateur moderne, des cartes interactives et un rendu détaillé des étapes de trajet.</p>
            <p>L'objectif est de proposer un compagnon numérique alternatif, sans publicité ni collecte de données personnelles. Le code source et la base GTFS dérivée sont disponibles pour toute personne souhaitant auditer le projet ou contribuer.</p>
            <ul>
                <li>Sources : données open data officielles Péribus + API Google Maps.</li>
                <li>Licence des données : ODbL. Attribution requise, partage à l'identique assuré via le dépôt public.</li>
                <li>Statut : application indépendante, sans lien avec le Grand Périgueux.</li>
            </ul>
            <p>Retrouvez le code complet et la base <code>gtfs.bundle.json</code> sur <a href="https://github.com/EFFEZFEZ/p-rimap-sans-api-" target="_blank" rel="noopener">GitHub</a>.</p>
        </section>

        <section class="about-card install-section">
            <h2>Installer PériMap sur votre téléphone</h2>
            <p>PériMap peut être ajoutée à votre écran d'accueil comme une vraie application, sans occuper d'espace supplémentaire. Installez-la en quelques secondes pour y accéder hors navigateur et profiter d'une expérience plein écran.</p>
            <div class="install-steps">
                <div>
                    <h3>Android (Chrome, Edge, etc.)</h3>
                    <ol>
                        <li>Ouvrez <strong>perimap.app</strong> dans votre navigateur mobile.</li>
                        <li>Appuyez sur le menu ⋮ puis choisissez <strong>"Installer l'application"</strong>.</li>
                        <li>Validez : l'icône apparaîtra sur l'écran d'accueil.</li>
                    </ol>
                </div>
                <div>
                    <h3>iOS (Safari)</h3>
                    <ol>
                        <li>Ouvrez <strong>perimap.app</strong> dans Safari.</li>
                        <li>Appuyez sur <strong>Partager</strong> ▸ <strong>Sur l'écran d'accueil</strong>.</li>
                        <li>Confirmez : l'icône est ajoutée, sans occuper d'espace supplémentaire.</li>
                    </ol>
                </div>
            </div>
            <p class="install-highlight">Astuce : aucune inscription et aucun stockage volumineux – l'app PWA utilise les ressources déjà présentes sur votre téléphone.</p>
            <button id="install-pwa-btn" class="install-btn" disabled>Installer PériMap</button>
        </section>
    </main>

    <footer id="legal-strip">
        <div class="legal-strip-content">
            <span class="legal-pill">Application indépendante, non affiliée au Grand Périgueux.</span>
            <span>Données © Grand Périgueux / Péribus — licence ODbL.</span>
            <span>
                Base dérivée <code>gtfs.bundle.json</code> partagée sur
                <a href="https://github.com/EFFEZFEZ/p-rimap-sans-api-/tree/main/public/data/gtfs" target="_blank" rel="noopener">GitHub</a>.
            </span>
            <a class="legal-about-btn" href="/about.html">À propos</a>
        </div>
    </footer>

    <script>
    (() => {
        let deferredPrompt = null;
        const installBtn = document.getElementById('install-pwa-btn');

        window.addEventListener('beforeinstallprompt', (event) => {
            event.preventDefault();
            deferredPrompt = event;
            if (installBtn) {
                installBtn.disabled = false;
                installBtn.textContent = 'Installer PériMap';
            }
        });

        installBtn?.addEventListener('click', async () => {
            if (!deferredPrompt) {
                alert('Sur iOS, utilisez le menu Partager ▸ Sur l\'écran d\'accueil.');
                return;
            }
            installBtn.disabled = true;
            installBtn.textContent = 'Demande envoyée…';
            deferredPrompt.prompt();
            await deferredPrompt.userChoice;
            deferredPrompt = null;
        });
    })();
    </script>
</body>
</html>
